## 📖 1. 네트워크의 큰 그림

### 🔗 네트워크의 기본 구조
- **네트워크**: 여러 대의 장치가 그물처럼 연결되어 정보를 주고받는 통신망
- **구조**: 노드(네트워크 기기)와 간선(통신 매체)으로 이루어진 그래프 형태
- **네트워크 토폴로지**: 노드와 노드 사이의 연결 구조
  - 망형(Mesh)
  - 트리형(Tree)
  - 링형(Ring)

### 🖥️ 호스트와 클라이언트-서버
- **호스트**: 네트워크 가장자리에 위치하여 정보를 최초 송신하고 최종 수신하는 노드
- **클라이언트**: 요청을 보내는 호스트
- **서버**: 응답을 보내는 호스트
- **중간 노드**: 스위치, 라우터, 공유기 등

### 🏠 LAN과 WAN
- **LAN(Local Area Network)**: 가정이나 기업처럼 비교적 가까운 거리의 한정된 공간 네트워크
- **WAN(Wide Area Network)**: 원거리 네트워크, LAN 간 통신을 가능하게 함
- **ISP(Internet Service Provider)**: 인터넷 서비스 업체 (KT, LG유플러스, SK브로드밴드)

### 📦 패킷 교환 네트워크
- **패킷**: 네트워크를 통해 송수신되는 데이터의 단위
- **구성**: 페이로드(실제 데이터) + 헤더(부가 정보) + 트레일러(부가 정보)
- **패킷 교환**: 데이터를 패킷 단위로 쪼개서 송수신하고 수신지에서 재조립

### 📍 주소의 개념과 전송 방식
- **IP 주소**: 네트워크 간 통신에서 사용되는 주소
- **MAC 주소**: 같은 네트워크 내에서 사용되는 물리적 주소
- **전송 방식**:
  - **유니캐스트**: 일대일 전송
  - **브로드캐스트**: 네트워크 내 모든 호스트에게 전송
  - **멀티캐스트**: 동일 그룹에 속한 호스트에게 전송
  - **애니캐스트**: 동일 그룹 중 가장 가까운 호스트에게 전송

### 🏗️ 네트워크 참조 모델

#### OSI 7계층 모델
OSI(Open Systems Interconnection) 모델은 ISO에서 만든 네트워크 참조 모델로, 통신 단계를 7개의 계층으로 나눈 것입니다.

1. **🔌 물리 계층 (Physical Layer)**
   - 가장 최하위 계층, 비트 신호를 주고받는 계층
   - 0과 1만을 이해할 수 있는 신호를 유무선 통신 매체를 통해 운반

2. **🔗 데이터 링크 계층 (Data Link Layer)**
   - 같은 LAN에 속한 호스트끼리 올바르게 정보를 주고받기 위한 계층
   - MAC 주소를 사용하여 같은 네트워크 내 호스트 식별
   - 물리 계층을 통해 주고받는 정보의 오류 확인

3. **🌐 네트워크 계층 (Network Layer)**
   - 네트워크 간 통신을 가능하게 하는 계층
   - LAN을 넘어 다른 네트워크와 통신하기 위해 필요
   - IP 주소를 사용하여 호스트 식별
   - 대표 프로토콜: IP

4. **🚚 전송 계층 (Transport Layer)**
   - 신뢰성 있는 전송을 가능하게 하는 계층
   - 포트(port) 정보를 통해 특정 응용 프로그램과의 연결 다리 역할
   - 대표 프로토콜: TCP, UDP

5. **💬 세션 계층 (Session Layer)**
   - 응용 프로그램 간의 연결 상태인 세션을 관리하기 위한 계층
   - 연결 상태 유지, 생성, 연결 끊기 역할

6. **🔄 표현 계층 (Presentation Layer)**
   - 번역가와 같은 역할을 하는 계층
   - 인코딩, 압축, 암호화와 같은 작업 수행

7. **📱 응용 계층 (Application Layer)**
   - 사용자와 가장 밀접하게 맞닿아 있는 계층
   - 여러 네트워크 서비스를 제공
   - 대표 프로토콜: HTTP, HTTPS, DNS

#### TCP/IP 4계층 모델
실제 구현과 프로토콜에 중점을 둔 네트워크 참조 모델입니다.

1. **네트워크 액세스 계층** (OSI의 물리 + 데이터 링크 계층)
2. **인터넷 계층** (OSI의 네트워크 계층)
3. **전송 계층** (OSI의 전송 계층)
4. **응용 계층** (OSI의 세션 + 표현 + 응용 계층)

### 📦 캡슐화와 역캡슐화
- **캡슐화**: 송신 과정에서 상위 계층에서 하위 계층으로 내려가며 헤더(및 트레일러)를 추가하는 과정
- **역캡슐화**: 수신 과정에서 하위 계층에서 상위 계층으로 올라가며 헤더를 확인 후 제거하는 과정
- **계층별 패킷 명칭**:
  - 응용 계층: 데이터 또는 메시지
  - 전송 계층: 세그먼트(TCP) 또는 데이터그램(UDP)
  - 네트워크 계층: 패킷 또는 데이터그램
  - 데이터 링크 계층: 프레임
  - 물리 계층: 심볼 또는 비트

## 🔌 2. 물리 계층과 데이터 링크 계층

### ⚡ 이더넷
- **정의**: 통신 매체를 통해 신호를 송수신하는 방법과 데이터 링크 계층의 데이터 형식이 정의된 기술
- **표준**: IEEE 802.3
- **종류**:
  - IEEE 802.3: 이더넷 (10Mbps)
  - IEEE 802.3u: 고속 이더넷 (100Mbps)
  - IEEE 802.3z/ab: 기가비트 이더넷 (1000Mbps)
  - IEEE 802.3ae: 10기가비트 이더넷 (10Gbps)

### 📄 이더넷 프레임
- **구성**: 프리앰블(8바이트) + 수신지 MAC 주소(6바이트) + 송신지 MAC 주소(6바이트) + 타입/길이(2바이트) + 데이터(46~1500바이트) + FCS(4바이트)
- **프리앰블**: 송수신지 동기화를 위한 정보
- **MAC 주소**: 48비트 길이, 콜론(:)으로 구분된 12자리 16진수
- **타입/길이**: 프레임 크기 또는 상위 계층 프로토콜 타입 표시
- **MTU**: 최대 전송 단위, 일반적으로 1500바이트

### 🔌 유무선 통신 매체

#### 유선 매체 - 트위스티드 페어 케이블
- **구조**: 두 가닥씩 꼬아져 있는 구리선
- **카테고리**:
  - Cat5: 100Mbps
  - Cat5e: 1Gbps
  - Cat6: 1Gbps
  - Cat6a: 10Gbps
  - Cat7: 10Gbps
  - Cat8: 40Gbps
- **차폐 방식**:
  - UTP: 차폐되지 않은 케이블
  - STP: 브레이드 실드로 차폐
  - FTP: 포일 실드로 차폐

#### 무선 매체 - 전파와 WiFi
- **전파**: 3kHz~3THz 사이의 진동수를 갖는 전자기파
- **WiFi**: IEEE 802.11 표준을 따르는 무선 LAN 기술
- **주파수 대역**: 2.4GHz, 5GHz
- **채널**: 같은 주파수 대역 내에서 무선 네트워크를 구분하는 하위 주파수
- **AP(Access Point)**: 무선 네트워크를 구성하는 장비
- **SSID**: 서비스 셋 식별자, 와이파이 이름

### 💳 네트워크 인터페이스: NIC
- **NIC(Network Interface Controller)**: 네트워크 인터페이스 역할을 담당하는 하드웨어
- **기능**: 통신 매체의 신호를 프레임으로 변환하거나 프레임을 신호로 변환
- **형태**: 확장 카드, USB 연결, 메인보드 내장
- **성능**: 지원 속도가 네트워크 성능에 영향

### 🔄 허브와 스위치

#### 허브 (물리 계층)
- **특징**:
  - 전달받은 신호를 모든 포트로 내보냄
  - 반이중 모드 통신 (동시 송수신 불가)
  - 충돌 도메인: 허브에 연결된 모든 호스트
- **충돌**: 동시에 메시지를 보낼 때 발생하는 문제

#### 스위치 (데이터 링크 계층)
- **특징**:
  - 목적지 호스트가 연결된 포트로만 전송
  - 전이중 모드 지원 (동시 송수신 가능)
  - MAC 주소 학습 기능
- **MAC 주소 테이블**: 포트와 연결된 호스트의 MAC 주소 대응 관계 저장
- **VLAN**: 같은 스위치에 연결된 호스트를 여러 논리적 네트워크로 분할

## 🌐 3. 네트워크 계층 - IP

### 🎯 IP의 목적과 특징
- **목적**:
  - **주소 지정**: IP 주소를 통해 네트워크 간 통신에서 호스트 특정
  - **단편화**: 데이터를 여러 IP 패킷으로 쪼개어 전송
- **특징**:
  - **신뢰할 수 없는 통신**: 패킷 전송을 보장하지 않음
  - **비연결형 통신**: 사전 연결 과정 없이 패킷 전송

### 📍 IP 주소의 구조
- **IPv4**: 32비트(4바이트), 0~255 범위의 10진수 4개로 표기
- **옥텟**: 점으로 구분된 하나의 10진수 (8비트)
- **구성**: 네트워크 주소 + 호스트 주소
- **IPv6**: 128비트, 콜론으로 구분된 8개 그룹의 16진수

### 🏷️ 클래스풀 주소 체계
- **A 클래스**: 0.0.0.0 ~ 127.255.255.255 (네트워크 8비트, 호스트 24비트)
- **B 클래스**: 128.0.0.0 ~ 191.255.255.255 (네트워크 16비트, 호스트 16비트)
- **C 클래스**: 192.0.0.0 ~ 223.255.255.255 (네트워크 24비트, 호스트 8비트)

### 🎭 클래스리스 주소 체계와 서브넷 마스크
- **서브넷 마스크**: IP 주소에서 네트워크 주소는 1, 호스트 주소는 0으로 표기한 비트열
- **CIDR 표기법**: IP주소/네트워크 비트 수 (예: 192.168.1.0/24)
- **서브네팅**: 서브넷 마스크를 이용해 클래스를 더 잘게 나누어 사용

### 🔑 공인 IP 주소와 사설 IP 주소
- **공인 IP 주소**: 전 세계에서 고유한 IP 주소, 인터넷 통신에 사용
- **사설 IP 주소**: 사설 네트워크에서만 사용, 중복 가능
- **사설 IP 대역**:
  - 10.0.0.0/8 (10.0.0.0 ~ 10.255.255.255)
  - 172.16.0.0/12 (172.16.0.0 ~ 172.31.255.255)
  - 192.168.0.0/16 (192.168.0.0 ~ 192.168.255.255)

### ⚙️ IP 주소의 할당

#### 정적 할당
- **정적 IP 주소**: 수작업으로 직접 부여하는 IP 주소
- **필요 정보**: IP 주소, 서브넷 마스크, 게이트웨이 주소, DNS 주소

#### 동적 할당: DHCP
- **DHCP**: 자동으로 IP 주소를 부여하는 프로토콜
- **동적 IP 주소**: 사용 기간(임대 기간)이 정해져 있음
- **특징**: 할당받을 때마다 다른 주소를 받을 수 있음

### 📨 ICMP
- **목적**: IP 패킷 전송 과정에 대한 피드백 메시지 제공
- **유형**:
  - 전송 과정에서 발생한 오류 보고
  - 네트워크에 대한 진단 정보 제공
- **활용**: ping, traceroute 명령어의 기반

### 🔍 ARP
- **목적**: IP 주소를 통해 MAC 주소를 알아내는 프로토콜
- **동작 과정**:
  1. ARP 요청 메시지 브로드캐스트
  2. 해당 IP를 가진 호스트가 ARP 응답 메시지 전송
  3. <IP 주소, MAC 주소> 쌍을 ARP 테이블에 저장

## 🚚 4. 전송 계층 - TCP와 UDP

### 🔢 포트를 통한 프로세스 식별
- **포트 번호**: 호스트 내에서 실행되는 프로세스를 식별하는 16비트 번호 (0~65535)
- **포트 종류**:
  - **잘 알려진 포트** (0~1023): HTTP(80), HTTPS(443), SSH(22), DNS(53)
  - **등록된 포트** (1024~49151): MySQL(3306), Redis(6379)
  - **동적 포트** (49152~65535): 클라이언트 프로그램에 임의 할당

### 🔄 TCP와 UDP의 특징

#### TCP (Transmission Control Protocol)
- **특징**:
  - 신뢰할 수 있는 연결형 프로토콜
  - 상태 관리, 흐름 제어, 오류 제어, 혼잡 제어 제공
  - 연결 수립과 종료 과정 필요
- **헤더 주요 필드**:
  - 순서 번호: 세그먼트의 올바른 송수신 순서 보장
  - 확인 응답 번호: 다음으로 수신하기 기대하는 순서 번호
  - 제어 비트: ACK, SYN, FIN 등

#### UDP (User Datagram Protocol)
- **특징**:
  - 신뢰할 수 없는 비연결형 프로토콜
  - 연결 수립/종료 과정 없음
  - 신뢰성 보장 기능 없음
  - TCP보다 빠른 송수신

### 🤝 TCP의 연결 수립: 쓰리 웨이 핸드셰이크
1. **SYN 세그먼트 전송**: 클라이언트 → 서버
2. **SYN+ACK 세그먼트 전송**: 서버 → 클라이언트
3. **ACK 세그먼트 전송**: 클라이언트 → 서버

### 🛡️ TCP의 제어 기능

#### 오류 제어
- **재전송 기반**: 중복 ACK 또는 타임아웃 발생 시 재전송
- **파이프라이닝**: 확인 응답을 받기 전에도 여러 세그먼트 전송

#### 흐름 제어
- **목적**: 수신 호스트의 처리 속도에 맞춰 전송량 조절
- **수신 윈도우**: TCP 헤더의 윈도우 필드로 전달

#### 혼잡 제어
- **목적**: 네트워크 혼잡 상황에 따라 전송량 조절
- **혼잡 윈도우**: 송신 호스트가 계산하여 관리
- **AIMD 알고리즘**: 합으로 증가, 곱으로 감소

### 👋 TCP의 연결 종료: 포 웨이 핸드셰이크
1. **FIN 세그먼트**: 액티브 클로즈 호스트 → 패시브 클로즈 호스트
2. **ACK 세그먼트**: 패시브 클로즈 호스트 → 액티브 클로즈 호스트
3. **FIN 세그먼트**: 패시브 클로즈 호스트 → 액티브 클로즈 호스트
4. **ACK 세그먼트**: 액티브 클로즈 호스트 → 패시브 클로즈 호스트

### 📊 TCP의 상태 관리
- **연결 수립 전**: CLOSED, LISTEN
- **연결 수립 중**: SYN-SENT, SYN-RECEIVED, ESTABLISHED
- **연결 종료 중**: FIN-WAIT-1, CLOSE-WAIT, FIN-WAIT-2, LAST-ACK, TIME-WAIT